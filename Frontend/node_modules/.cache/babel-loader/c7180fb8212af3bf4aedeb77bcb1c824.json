{"remainingRequest":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/babel-loader/lib/index.js!/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/src/views/Compte.vue?vue&type=template&id=0aa0687a","dependencies":[{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/src/views/Compte.vue","mtime":1609943976996},{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmltcG9ydCBfaW1wb3J0c18wIGZyb20gJy4uL2Fzc2V0cy9zaWdub3V0LnN2Zyc7CmltcG9ydCBfaW1wb3J0c18xIGZyb20gJy4uL2Fzc2V0cy90cmFzaC5zdmcnOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJyb3cganVzdGlmeS1jb250ZW50LWNlbnRlciIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjb2wtMTAiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiY29sLTEyIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJwIiwgewogIGNsYXNzOiAibXktMiBidG4gYnRuLWJsb2NrIGJ0bi1pbmZvIGZvbnQtd2VpZ2h0LWJvbGQiLAogIHN0eWxlOiB7CiAgICAiY3Vyc29yIjogImRlZmF1bHQiCiAgfQp9LCAiVm91cyBjb25zdWx0ZXogdm90ZSBjb21wdGUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBpZDogImZpbFByaW5jaXBhbCIsCiAgY2xhc3M6ICJyb3ciCn07CnZhciBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAiY29sLTEyIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImNhcmQgYmctbGlnaHQgbXktMyBjbGFzcz1jZW50ZXItYmxvY2siLAogIHN0eWxlOiB7CiAgICAiZmxvYXQiOiAibm9uZSIKICB9Cn07CnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiY2FyZC1oZWFkZXIiCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogInJvdyBqdXN0aWZ5LWNvbnRlbnQtYXJvdW5kIgp9Owp2YXIgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJtLTEiCn07Cgp2YXIgX2hvaXN0ZWRfMTIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18wLAogIGFsdDogInNpZ24tb3V0IiwKICBzdHlsZTogewogICAgIndpZHRoIjogIjM1cHgiCiAgfQp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJjYXJkLWJvZHkgdGV4dC1jZW50ZXIiCn07CnZhciBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogImRyb3Bkb3duIHRleHQtY2VudGVyIgp9OwoKdmFyIF9ob2lzdGVkXzE1ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiY2FyZC1ib2R5IG14LWF1dG8iCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJidG4taW5mbyByb3VuZGVkIHAtMyIsCiAgc3R5bGU6IHsKICAgICJjdXJzb3IiOiAiZGVmYXVsdCIKICB9Cn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgY2xhc3M6ICJyb3VuZGVkIHAtMiIsCiAgc3R5bGU6IHsKICAgICJjdXJzb3IiOiAiZGVmYXVsdCIKICB9Cn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgewogIGNsYXNzOiAibS0zIGZvbnQtd2VpZ2h0LWJvbGQiCn0sICJEZXB1aXMgY2V0dGUgcGFnZSB2b3VzIHBvdXZleiBzdXBwcmltZXIgdm90cmUgY29tcHRlLiBMYSBzdXBwcmVzc2lvbiBkZSB2b3RyZSBjb21wdGUgZW50cmFpbmVyYSDDqWdhbGVtZW50IGxhIHN1cHByZXNzaW9uIGRlIHRvdXMgbGVzIGNvbW1lbnRhaXJlcyBldCBsZXMgaW1hZ2VzIHF1ZSB2b3VzIGF2ZXogcG9zdMOpLiIpXSldKV0sIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xNiA9IHsKICBjbGFzczogImNhcmQtYm9keSBteC1hdXRvIgp9Owp2YXIgX2hvaXN0ZWRfMTcgPSB7CiAgY2xhc3M6ICJidG4tZGFuZ2VyIHJvdW5kZWQgcC0zIiwKICBzdHlsZTogewogICAgImN1cnNvciI6ICJkZWZhdWx0IgogIH0KfTsKCnZhciBfaG9pc3RlZF8xOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgY2xhc3M6ICJtLTMgZm9udC13ZWlnaHQtYm9sZCIKfSwgIlNVUFBSSU1FUiBWT1RSRSBDT01QVEUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18xLAogIGFsdDogInRyYXNoIiwKICBzdHlsZTogewogICAgIndpZHRoIjogIjI1cHgiCiAgfQp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0hvbWUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSG9tZSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soIm1haW4iLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSG9tZSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgW19jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzExLCAiIEJvbmpvdXIgIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEubmFtZUN1cnJlbnRVc2VyKSArICIgISAiLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5sb2NhbENsZWFyLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2hvaXN0ZWRfMTJdKV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTMsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzE0LCBbX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgIk1lbWJyZSBkZXB1aXMgbGUgIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuY3JlYXRpb24pLCAxCiAgLyogVEVYVCAqLwogICldKV0pLCBfaG9pc3RlZF8xNSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNiwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTcsIFtfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuZGVsZXRlTXlBY2NvdW50KCRkYXRhLmlkKTsKICAgIH0pLAogICAgY2xhc3M6ICJyb3VuZGVkIHAtMiIKICB9LCBbX2hvaXN0ZWRfMTgsIF9ob2lzdGVkXzE5XSldKV0pXSldKV0pXSldKV0pOwp9"},{"version":3,"sources":["/Users/raphaelchauvat/Desktop/essai/P7-Groupomania/Frontend/src/views/Compte.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <main class=\"container\">    \n        <div class=\"row justify-content-center\">\n            <div class=\"col-10\">\n                <div class=\"col-12\">\n                    <p class=\"my-2 btn btn-block btn-info font-weight-bold\" style=\"cursor:default\">Vous consultez vote compte</p>\n                    <Home></Home>\n                </div>\n                <div id=\"filPrincipal\" class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card bg-light my-3 class=center-block\" style=\"float:none;\">\n                            <div class=\"card-header\">\n                                <div class=\"row justify-content-around\">\n                                    <p class=\"m-1\"> Bonjour {{ nameCurrentUser }} ! </p>\n                                    <button @click=\"localClear\"> <img src=\"../assets/signout.svg\" alt=\"sign-out\" style=\"width:35px\"/> </button>\n                                </div>\n                            </div>\n                            <div class=\"card-body text-center\">\n                                <div class=\"dropdown text-center\">\n                                    <p>Membre depuis le {{ creation }}</p>\n                                </div>\n                            </div>\n                            <div class=\"card-body mx-auto\">\n                                <div class=\"btn-info rounded p-3\" style=\"cursor:default\"><button class=\"rounded p-2\" style=\"cursor:default\"><span class=\"m-3 font-weight-bold\">Depuis cette page vous pouvez supprimer votre compte. La suppression de votre compte entrainera également la suppression de tous les commentaires et les images que vous avez posté.</span></button></div>\n                            </div>\n                            <div class=\"card-body mx-auto\">\n                                <div class=\"btn-danger rounded p-3\" style=\"cursor:default\"><button @click=\"deleteMyAccount(id)\" class=\"rounded p-2\"><span class=\"m-3 font-weight-bold\">SUPPRIMER VOTRE COMPTE</span><img src=\"../assets/trash.svg\" alt=\"trash\" style=\"width:25px\"></button></div>\n                            </div>\n                        </div> \n                    </div>  \n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n\n<script>\nimport Home from \"../components/Home\";\nimport axios from \"axios\";\nimport router from \"../router\";\nimport \"../main.css\";\n\nexport default {\n    name: \"Compte\",\n    components: {\n      Home\n    },\n    data() {\n        return {\n            isAdmin: false,\n            nameCurrentUser: \"\",\n            creation: \"\",\n            id: \"\"\n        }\n    },\n    created: function() {        \n        let id          = localStorage.getItem('userId');\n        let self        = this;\n        axios.get(\"http://localhost:3000/api/users/\" + id, { headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"token\")} })\n        .then(res => {  \n            self.creation           = res.data.createdAt.slice(0,10).split(\"-\").reverse().join(\".\");\n            self.isAdmin            = res.data.isAdmin;\n            self.nameCurrentUser    = res.data.userName.charAt(0).toUpperCase() + res.data.userName.slice(1);\n            self.id                 = res.data.id     \n        })\n        .catch((error)=> { console.log(error) \n        });    \n    },\n    methods: {\n        localClear() {\n            localStorage.clear();\n            router.push({ path : \"/\" });\n        },\n        deleteMyAccount(n) {\n            let id = n;\n            let confirmUserDeletion = confirm(\"voulez-vous vraiment supprimer votre compte ?\");\n            if (confirmUserDeletion == true) {\n                axios.delete(\"http://localhost:3000/api/users/\" + id, {headers: { \"Authorization\": \"Bearer \" + localStorage.getItem(\"token\") },})\n                .then((res)=> {\n                    console.log(res);\n                    alert('Cliquez sur ok et l\\'utilisateur sera supprimé');\n                    router.replace(\"http://localhost:8080/api/\")\n                })\n                .catch((error) => { \n                    console.log(error)\n                })\n            } else {\n                return \n            }\n        },\n        toCommentsList() {\n            router.replace(\"http://localhost:8080/api/CommentsList\")\n        },\n        toUsersList() {\n            router.replace(\"http://localhost:8080/api/UsersList\")\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}